#include <iostream>
#include <string>
#include <conio.h>
#include<windows.h>
#include<fstream>
using namespace std;
bool LOGIN()
{
	string line[2];
	int i=0;
  	ifstream myfile ("example.txt");
  	if (myfile.is_open())
  	{
    while ( getline (myfile,line[i]) )
    {
      i++;
    }
    myfile.close();
  	}
	string username;
    string password( "" );
    char temp;
    int Try=0;
    
    do{
    	cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    	cout<<"----------------------------------------  WELCOME TO THE HOTEL MANAGEMENT SYSTEM -------------------------------------------"<<endl;
		cout<<"\n\n\n\n\n\n";
		cout<<"-------------------------------------------------------PROJECT BY-----------------------------------------------------------"<<endl;
		cout<<"--------------------------------------------------TABAN SHAUKAT (16K-3937)--------------------------------------------------"<<endl;
		cout<<"-----------------------------------------------FAREEHA SATTAR SHAIKH (16K-3934)---------------------------------------------"<<endl;
		cout<<"-------------------------------------------HAFIZ MUHAMMAD HUZAIFAH PUNJANI (16K-3924)---------------------------------------"<<endl;
		Sleep(10000);
		system("cls");
		cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    	cout<<"----------------------------------------  WELCOME TO THE HOTEL MANAGEMENT SYSTEM -------------------------------------------"<<endl;
		cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    	cout<<"                                                       ADMIN PANEL                                                            "<<endl;
    	cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    		
	cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    
    cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    cout<<"                                   |                   ADMIN LOGIN                    |                    "<<endl;
    cout<<"                                   ----------------------------------------------------                              "<<endl;
			cout<<"						Username: ";
			cin>>username;
			password="\0";
		    cout << "						Password: " <<flush;
//		    while( static_cast<int>( temp = getch() ) != 13 )
//		    {
//		    	
//				password += temp;
//		        cout << '*' << flush;	
//	   		}
	   		while (static_cast<int>( temp = getch() ) != 13)
			{  
				if (temp == 8) // delete
				{
					// cant delete from a empty
					// string so check this
					if (password.length() > 0) {
						password.erase(password.length()-1);
						cout << "\b \b"; // backspace and clear
					}
				}
				else
				{
					// we are appending
					password.push_back(temp);
					cout << '*'<<flush;
				}
			}
		if(line[0]==username && line[1]==password)
		{
			cout<<endl;
			cout<<"                                   ----------------------------------------------------"<<endl;
			cout<<"                                                   Login successful!"<<endl;
			cout<<"                                   ----------------------------------------------------"<<endl;
			cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    		cout<<"------------------------------------------------------- LOADING. -----------------------------------------------------------"<<endl;	
			cout<<"----------------------------------------------------------------------------------------------------------------------------\n"<<endl;
			char s=219;
			HANDLE hConsole = GetStdHandle(STD_OUTPUT_HANDLE);
			SetConsoleTextAttribute(hConsole, 250);
			for(int i=0;i<124;i++)
			    	{
			    		if(i<20)
						Sleep(200);
						else if(i<80)
						Sleep(50);
						else
						Sleep(100);
			    		cout<<s;
					}
			SetConsoleTextAttribute(hConsole, 240);
			Sleep(200);
			system("cls");
			cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    		cout<<"----------------------------------------  WELCOME TO THE HOTEL MANAGEMENT SYSTEM -------------------------------------------"<<endl;
    		cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    		cout<<"                                                          MENU                                                             "<<endl;
    		cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    		
			return 1;
		}
		else if(Try<5)
		{
			cout<<endl;
			cout<<"                                   ----------------------------------------------------"<<endl;
			cout<<endl<<"                                     ERROR!Username or Password incorrect"<<endl<<endl;
			cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
			Sleep(500);
			
			system("cls");
			if(Try<4)
			cout<<"                                            RE-ENTER THE USERNAME AND PASSWORD"<<endl;	
			
		}
		Try++;
	}while(Try!=5);
	cout<<"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n";
	cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
    cout<<"-------------------------------------------------  SYSTEM HAS BEEN LOCKED --------------------------------------------------"<<endl;
    cout<<"----------------------------------------------------------------------------------------------------------------------------"<<endl;
	return 0;
   // cout <<endl << "The password entered was: " << password <<endl;

}

